<?php
require_once "jssdk.php";
$jssdk = new JSSDK("应用id", "应用密钥");
$signPackage = $jssdk->GetSignPackage();
?>
<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="author" content="hahnzhu" />
    <meta name="format-detection" content="telephone=no" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no"/>
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
    <title>温暖新年 领礼回家</title>
    <link rel="stylesheet" href="css/parallax.css">
    <link rel="stylesheet" href="css/parallax-animation.css">
    <link rel="stylesheet" href="css/app.css">
    <script>
        document.getElementsByTagName("html")[0].style.fontSize=document.documentElement.clientWidth+"px";
    </script>
</head>
<body>
<div class="musciBtn musicOff"></div>
<!-- loading -->

<div class="wrapper">
    <section class="loadingWrap">
       <div class="load"><span class="dotting"></span></div>
    </section>
    <div class="pages">
        <!-- 第一屏 -->
        <section class="page">
            <div class="page1_text1" ></div>
            <div class="page1_text2" ></div>
        </section>
        <!-- 第二屏 -->
        <section class="page">
            <div class="page2_text1" data-animation="followSlide" data-duration="2000"></div>
            <div class="page2_text2" data-animation="followSlide" data-delay="1600" data-duration="2000"></div>
        </section>
        <!-- 第三屏 -->
        <section class="page">
            <div class="page3_text1" data-animation="followSlide" data-duration="2000"></div>
            <div class="page3_text2" data-animation="followSlide" data-delay="1600" data-duration="2000"></div>
            <div class="page3_text3" data-animation="followSlide" data-delay="2600" data-duration="2000"></div>
        </section>
        <!-- 第四屏 -->
        <section class="page">
            <div class="page4_text1" data-animation="followSlide" data-duration="2000"></div>
            <div class="page4_text2" data-animation="followSlide" data-delay="1600" data-duration="2000"></div>
        </section>
         <!-- 第五屏 -->
        <section class="page">
            <div class="page5_text1" data-animation="followSlide" data-duration="2000"></div>
            <div class="page5_text2" data-animation="followSlide" data-delay="1600" data-duration="2000"></div>
            <div class="page5_text3" data-animation="followSlide" data-delay="2600" data-duration="3000"></div>
        </section>
        <!-- 第六屏 -->
        <section class="page">
            <div class="page6_text1" data-animation="followSlide" data-duration="2000"></div>
            <div class="page6_text2" data-animation="followSlide" data-delay="1600" data-duration="2000"></div>
        </section>
        <!-- 第七屏 -->
        <section class="page">
            <div class="page7_text1" data-animation="followSlide" data-duration="2000"></div>
            <div class="page7_text2" data-animation="followSlide" data-delay="1600" data-duration="2000"></div>
            <div class="page7_text3" data-animation="followSlide" data-delay="2600" data-duration="2000"></div>
        </section>
        <!-- 第八屏 -->
        <section class="page">
            <div class="page8_text1" data-animation="followSlide" data-duration="2000"></div>
            <div class="page8_text2" data-animation="followSlide" data-delay="1600" data-duration="2000"></div>
            <div class="page8_text3" data-animation="followSlide" data-delay="2600" data-duration="2000"></div>
        </section>
        <!-- 第九屏 -->
        <section class="page">
            <div class="page9_text1" data-animation="followSlide" data-duration="2000"></div>
            <div class="page9_text2" data-animation="followSlide" data-delay="1600" data-duration="2000"></div>
        </section>
        <!-- 第十屏 -->
        <section class="page">
            <div class="page10_text1" data-animation="followSlide" data-duration="2000"></div>
            <div class="page10_text2" data-animation="followSlide" data-delay="600" data-duration="2000"></div>
            <div class="page10_text3" data-animation="followSlide" data-delay="1000" data-duration="2000"></div>
            <div class="page10_text4" data-animation="followSlide" data-delay="1200" data-duration="2000"></div>
            <div class="page10_text5" data-animation="fadeIn"  data-delay="2600" data-duration="1800"></div>
            <div class="mark">
            	<div class="figger"></div>
            </div>
        </section>

    </div>
</div>
<audio id="audio" src="music/music.mp3" loop="" preload="auto"></audio>
<script src="js/zepto.min.js"></script>
<script src="http://res.wx.qq.com/open/js/jweixin-1.0.0.js"></script>
<script src="js/parallax.js"></script>
<script src="js/app.js"></script>
<script>
//微信分享自定义
//
//
//
wx.config({
    appId: '<?php echo $signPackage["appId"];?>',
    timestamp: <?php echo $signPackage["timestamp"];?>,
    nonceStr: '<?php echo $signPackage["nonceStr"];?>',
    signature: '<?php echo $signPackage["signature"];?>',
    jsApiList: ['onMenuShareTimeline','onMenuShareAppMessage','onMenuShareQQ','onMenuShareWeibo'] // 必填，需要使用的JS接口列表，所有JS接口列表见附录2
});

wx.ready(function () {
 //分享到朋友圈
  wx.onMenuShareTimeline({
        title: 'test', // 分享标题
        link: 'baidu.com', // 分享链接
        imgUrl: '', // 分享图标
        success: function () {
            // 用户确认分享后执行的回调函数
        },
        cancel: function () {
            // 用户取消分享后执行的回调函数
        }
    });
  //分享给朋友
  wx.onMenuShareAppMessage({
        title: '', // 分享标题
        desc: '', // 分享描述
        link: '', // 分享链接
        imgUrl: '', // 分享图标
        type: '', // 分享类型,music、video或link，不填默认为link
        dataUrl: '', // 如果type是music或video，则要提供数据链接，默认为空
        success: function () {
            // 用户确认分享后执行的回调函数
        },
        cancel: function () {
            // 用户取消分享后执行的回调函数
        }
    });
  //分享到QQ
  wx.onMenuShareQQ({
        title: '', // 分享标题
        desc: '', // 分享描述
        link: '', // 分享链接
        imgUrl: '' // 分享图标
        success: function () {
           // 用户确认分享后执行的回调函数
        },
        cancel: function () {
           // 用户取消分享后执行的回调函数
        }
    });
  //分享到腾讯微博
  wx.onMenuShareWeibo({
        title: '', // 分享标题
        desc: '', // 分享描述
        link: '', // 分享链接
        imgUrl: '' // 分享图标
        success: function () {
           // 用户确认分享后执行的回调函数
        },
        cancel: function () {
            // 用户取消分享后执行的回调函数
        }
    });

});
/*window.shareData = {
  "imgUrl": "appImage/240x240.PNG",
  "timeLineLink":window.location.href,
  "tTitle":g("title").innerHTML,
  "tContent": "我在正在使用<小红花>培养宝宝的良好习惯哟,现在宝宝比之前懂事讲礼貌了"
};
document.addEventListener('WeixinJSBridgeReady', function onBridgeReady() {
    WeixinJSBridge.on('menu:share:appmessage', function(argv) {
		var _href=window.shareData.timeLineLink.indexOf("?ADTAG")==-1?shareData.timeLineLink+"?ADTAG=a20141128cj.relay.wx.py":shareData.timeLineLink;
        WeixinJSBridge.invoke('sendAppMessage', {
            "img_url": window.shareData.imgUrl,
            "link": _href,
            "desc": window.shareData.tContent,
            "title": window.shareData.tTitle
        },function(res){
			if(res.err_msg != 'send_app_msg:cancel'){pgvSendClick({hottag:'a20141128cj.btn.wx.py'});alert('分享成功!');}
			else {pgvSendClick({hottag:'a20141128cj.btn.wx.py.false'});alert('分享失败...');}
		});
    });
    WeixinJSBridge.on('menu:share:timeline', function(argv) {
		var _href=window.shareData.timeLineLink.indexOf("?ADTAG")==-1?shareData.timeLineLink+"?ADTAG=a20141128cj.relay.wx.pyq":shareData.timeLineLink;
        WeixinJSBridge.invoke('shareTimeline', {
            "img_url": window.shareData.imgUrl,
            "img_width": "640",
            "img_height": "640",
            "link": _href,
            "desc": window.shareData.tContent,
            "title": window.shareData.tTitle
        },function(res){
			if(res.err_msg != 'share_timeline:cancel'){pgvSendClick({hottag:'a20141128cj.btn.wx.pyq'});alert('分享成功!');}
			else {pgvSendClick({hottag:'a20141128cj.btn.wx.pyq.false'});alert('分享失败...');}
		});
    });
}, false);*/
</script>

</body>
</html>